<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>MEN - Z140 MDIS Driver - z140_simp.c Source File</title>
<meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<meta name="Language" content="en, english">
<meta name="Copyright" content="All material copyright MEN Mikro Elektronik GmbH">
<link href="men_stylesheet.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class="left_to_right" style="padding-top: 6px; background-color: #F0F0F0; height: 110px; border-bottom: 2px solid #D1D1D2;">
	<!-- Titel -->
	<img src="menlogo.gif" alt="MEN" style="float: left; height: 103px; width: 155px; margin: 0px;">
	<h1 style="margin: 0px; padding-top: 35px; padding-bottom: 0px;">Z140 MDIS Driver &nbsp; </h1>
	<h3>z140_simp.c Source File</h3>
</div>

<div class="left_to_right">
<!-- Hauptteil -->
	<div class="main">
<!-- Generated by Doxygen 1.3 -->
<center>
<a class="qindex" href="index.html">Main Page</a> &nbsp; <a class="qindex" href="annotated.html">Data Structures</a> &nbsp; <a class="qindex" href="files.html">File List</a> &nbsp; <a class="qindex" href="functions.html">Data Fields</a> &nbsp; <a class="qindex" href="globals.html">Globals</a> &nbsp; <a class="qindex" href="pages.html">Related Pages</a> &nbsp; <a class="qindex" href="examples.html">Examples</a> &nbsp; </center>
<hr><h1>z140_simp.c</h1><a href="z140__simp_8c.html">Go to the documentation of this file.</a><div class="fragment"><pre>00001 <span class="comment">/****************************************************************************</span>
00002 <span class="comment"> ************                                                    ************</span>
00003 <span class="comment"> ************                   Z140_SIMP                         ************</span>
00004 <span class="comment"> ************                                                    ************</span>
00005 <span class="comment"> ****************************************************************************/</span>
00022  <span class="comment">/*</span>
00023 <span class="comment"> *---------------------------------------------------------------------------</span>
00024 <span class="comment"> * Copyright (c) 2016-2019, MEN Mikro Elektronik GmbH</span>
00025 <span class="comment"> ****************************************************************************/</span>
00026 <span class="comment">/*</span>
00027 <span class="comment">* This program is free software: you can redistribute it and/or modify</span>
00028 <span class="comment">* it under the terms of the GNU General Public License as published by</span>
00029 <span class="comment">* the Free Software Foundation, either version 2 of the License, or</span>
00030 <span class="comment">* (at your option) any later version.</span>
00031 <span class="comment">*</span>
00032 <span class="comment">* This program is distributed in the hope that it will be useful,</span>
00033 <span class="comment">* but WITHOUT ANY WARRANTY; without even the implied warranty of</span>
00034 <span class="comment">* MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the</span>
00035 <span class="comment">* GNU General Public License for more details.</span>
00036 <span class="comment">*</span>
00037 <span class="comment">* You should have received a copy of the GNU General Public License</span>
00038 <span class="comment">* along with this program.  If not, see &lt;http://www.gnu.org/licenses/&gt;.</span>
00039 <span class="comment">*/</span>
00040 
00041 <span class="comment">/*--------------------------------------+</span>
00042 <span class="comment">|  INCLUDES                             |</span>
00043 <span class="comment">+--------------------------------------*/</span>
00044 <span class="preprocessor">#include &lt;stdio.h&gt;</span>
00045 <span class="preprocessor">#include &lt;string.h&gt;</span>
00046 <span class="preprocessor">#include &lt;stdlib.h&gt;</span>
00047 <span class="preprocessor">#include &lt;MEN/men_typs.h&gt;</span>
00048 <span class="preprocessor">#include &lt;MEN/mdis_api.h&gt;</span>
00049 <span class="preprocessor">#include &lt;MEN/mdis_err.h&gt;</span>
00050 <span class="preprocessor">#include &lt;MEN/usr_oss.h&gt;</span>
00051 <span class="preprocessor">#include &lt;<a class="code" href="z140__drv_8h.html">MEN/z140_drv.h</a>&gt;</span>
00052 
00053 <span class="comment">/*--------------------------------------+</span>
00054 <span class="comment">|   DEFINES                             |</span>
00055 <span class="comment">+--------------------------------------*/</span>
<a name="l00056"></a><a class="code" href="z140__simp_8c.html#a0">00056</a> <span class="preprocessor">#define ERR_OK      0</span>
<a name="l00057"></a><a class="code" href="z140__simp_8c.html#a1">00057</a> <span class="preprocessor"></span><span class="preprocessor">#define ERR_PARAM   1</span>
<a name="l00058"></a><a class="code" href="z140__simp_8c.html#a2">00058</a> <span class="preprocessor"></span><span class="preprocessor">#define ERR_FUNC    2</span>
00059 <span class="preprocessor"></span>
00060 <span class="comment">/*--------------------------------------+</span>
00061 <span class="comment">|  PROTOTYPES                           |</span>
00062 <span class="comment">+--------------------------------------*/</span>
00063 <span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="z140__simp_8c.html#a3">usage</a>(<span class="keywordtype">void</span>);
00064 <span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="z140__ctrl_8c.html#a4">PrintError</a>(<span class="keywordtype">char</span> *info);
00065 <span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="z140__ctrl_8c.html#a5">MeasStat</a>(<span class="keywordtype">char</span> *info, <span class="keywordtype">char</span> **statStr);
00066 
00067 <span class="comment">/********************************* usage ***********************************/</span>
<a name="l00070"></a><a class="code" href="z140__simp_8c.html#a3">00070</a> <span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="z140__simp_8c.html#a3">usage</a>(<span class="keywordtype">void</span>)
00071 {
00072     printf(<span class="stringliteral">"Usage:    z140_simp &lt;device&gt; [&lt;delay&gt; [&lt;l&gt;]]\n"</span>);
00073     printf(<span class="stringliteral">"Function: Example program for the Z140 Frequency Counter driver    \n"</span>);
00074     printf(<span class="stringliteral">"            Using configuration parameters from device descriptor  \n"</span>);
00075     printf(<span class="stringliteral">"            or defaults if no parameters set in descriptor.\n"</span>);
00076     printf(<span class="stringliteral">"Options:\n"</span>);
00077     printf(<span class="stringliteral">"    device   device name (e.g. freq_1)\n"</span>);
00078     printf(<span class="stringliteral">"    delay    delay between cycles in ms (default=100)\n"</span>);
00079     printf(<span class="stringliteral">"    l        print each output in a new line\n"</span>);
00080     printf(<span class="stringliteral">"\n"</span>);
00081     printf(<span class="stringliteral">"(c)Copyright 2016 by MEN Mikro Elektronik GmbH (%s)\n"</span>, __DATE__);
00082 }
00083 
00084 <span class="comment">/***************************************************************************/</span>
<a name="l00092"></a><a class="code" href="z140__simp_8c.html#a6">00092</a> <span class="keywordtype">int</span> <a class="code" href="z140__ctrl_8c.html#a6">main</a>(<span class="keywordtype">int</span> argc, <span class="keywordtype">char</span> *argv[])
00093 {
00094     <span class="keywordtype">char</span>      *device;
00095     int32     val, periodA, periodB, distFwd, distBwd;
00096     <span class="keywordtype">char</span>      *periodAStat, *periodBStat;
00097     <span class="keywordtype">char</span>      periodAVal[16], periodBVal[16], status[]=<span class="stringliteral">"- - - - -"</span>;
00098     <span class="keywordtype">char</span>      *st = status;
00099     <a class="code" href="z140__drv_8h.html#a32">MDIS_PATH</a> path;
00100     <span class="keywordtype">int</span>       ret, delay, newLine=0, blink=0;
00101 
00102     <span class="keywordflow">if</span> (argc &lt; 2 || strcmp(argv[1], <span class="stringliteral">"-?"</span>) == 0) {
00103         <a class="code" href="z140__simp_8c.html#a3">usage</a>();
00104         <span class="keywordflow">return</span> <a class="code" href="z140__simp_8c.html#a1">ERR_PARAM</a>;
00105     }
00106 
00107     device = argv[1];
00108 
00109     <span class="keywordflow">if</span> (argc &gt; 2)
00110         delay = strtol(argv[2], NULL, 0);
00111     <span class="keywordflow">else</span>
00112         delay = 100;
00113 
00114     <span class="keywordflow">if</span> (argc &gt; 3)
00115         newLine = (*argv[3] == <span class="charliteral">'l'</span>) ? 1 : 0;
00116 
00117     <span class="comment">/*----------------------+</span>
00118 <span class="comment">    |  open path            |</span>
00119 <span class="comment">    +----------------------*/</span>
00120     <span class="keywordflow">if</span> ((path = <a class="codeRef" doxygen="mdis_api.tag:../../../../../LIBSRC/MDIS_API/DOC/html/" href="../../../../../LIBSRC/MDIS_API/DOC/html/mdis__api_8c.html#a4">M_open</a>(device)) &lt; 0) {
00121         <span class="keywordflow">return</span> <a class="code" href="z140__ctrl_8c.html#a4">PrintError</a>(<span class="stringliteral">"open"</span>);
00122     }
00123 
00124     <span class="comment">/*----------------------+</span>
00125 <span class="comment">    |  clear counter        |</span>
00126 <span class="comment">    +----------------------*/</span>
00127     <span class="keywordflow">if</span> ((<a class="codeRef" doxygen="mdis_api.tag:../../../../../LIBSRC/MDIS_API/DOC/html/" href="../../../../../LIBSRC/MDIS_API/DOC/html/mdis__api_8c.html#a13">M_setstat</a>(path, <a class="code" href="z140__drv_8h.html#a5">Z140_DISTRST</a>, 0)) &lt; 0) {
00128         ret = <a class="code" href="z140__ctrl_8c.html#a4">PrintError</a>(<span class="stringliteral">"setstat Z140_DISTRST"</span>);
00129         <span class="keywordflow">goto</span> ABORT;
00130     }
00131 
00132     <span class="comment">/*--------------------+</span>
00133 <span class="comment">    |  show configuration |</span>
00134 <span class="comment">    +--------------------*/</span>
00135     <span class="keywordflow">if</span> ((<a class="codeRef" doxygen="mdis_api.tag:../../../../../LIBSRC/MDIS_API/DOC/html/" href="../../../../../LIBSRC/MDIS_API/DOC/html/mdis__api_8c.html#a12">M_getstat</a>(path, <a class="code" href="z140__drv_8h.html#a0">Z140_DEBOUNCET</a>, &amp;val)) &lt; 0) {
00136         ret = <a class="code" href="z140__ctrl_8c.html#a4">PrintError</a>(<span class="stringliteral">"getstat Z140_DEBOUNCET"</span>);
00137         <span class="keywordflow">goto</span> ABORT;
00138     }
00139     printf(<span class="stringliteral">"Debounce time               : %dus\n"</span>, val);
00140 
00141     <span class="keywordflow">if</span> ((<a class="codeRef" doxygen="mdis_api.tag:../../../../../LIBSRC/MDIS_API/DOC/html/" href="../../../../../LIBSRC/MDIS_API/DOC/html/mdis__api_8c.html#a12">M_getstat</a>(path, <a class="code" href="z140__drv_8h.html#a1">Z140_MEAS_TOUT</a>, &amp;val)) &lt; 0) {
00142         ret = <a class="code" href="z140__ctrl_8c.html#a4">PrintError</a>(<span class="stringliteral">"getstat Z140_MEAS_TOUT"</span>);
00143         <span class="keywordflow">goto</span> ABORT;
00144     }
00145     printf(<span class="stringliteral">"Measurement timeout         : %dms\n"</span>, val);
00146 
00147     <span class="keywordflow">if</span> ((<a class="codeRef" doxygen="mdis_api.tag:../../../../../LIBSRC/MDIS_API/DOC/html/" href="../../../../../LIBSRC/MDIS_API/DOC/html/mdis__api_8c.html#a12">M_getstat</a>(path, <a class="code" href="z140__drv_8h.html#a2">Z140_ROLLINGT</a>, &amp;val)) &lt; 0) {
00148         ret = <a class="code" href="z140__ctrl_8c.html#a4">PrintError</a>(<span class="stringliteral">"getstat Z140_ROLLINGT"</span>);
00149         <span class="keywordflow">goto</span> ABORT;
00150     }
00151     printf(<span class="stringliteral">"Rolling time period         : %dms\n"</span>, val);
00152 
00153     <span class="keywordflow">if</span> ((<a class="codeRef" doxygen="mdis_api.tag:../../../../../LIBSRC/MDIS_API/DOC/html/" href="../../../../../LIBSRC/MDIS_API/DOC/html/mdis__api_8c.html#a12">M_getstat</a>(path, <a class="code" href="z140__drv_8h.html#a3">Z140_STANDSTILLT</a>, &amp;val)) &lt; 0) {
00154         ret = <a class="code" href="z140__ctrl_8c.html#a4">PrintError</a>(<span class="stringliteral">"getstat Z140_STANDSTILLT"</span>);
00155         <span class="keywordflow">goto</span> ABORT;
00156     }
00157     printf(<span class="stringliteral">"Standstill time period      : %dms\n"</span>, val);
00158 
00159     <span class="keywordflow">if</span> ((<a class="codeRef" doxygen="mdis_api.tag:../../../../../LIBSRC/MDIS_API/DOC/html/" href="../../../../../LIBSRC/MDIS_API/DOC/html/mdis__api_8c.html#a12">M_getstat</a>(path, <a class="code" href="z140__drv_8h.html#a4">Z140_DIRDET_TOUT</a>, &amp;val)) &lt; 0) {
00160         ret = <a class="code" href="z140__ctrl_8c.html#a4">PrintError</a>(<span class="stringliteral">"getstat Z140_DIRDET_TOUT"</span>);
00161         <span class="keywordflow">goto</span> ABORT;
00162     }
00163     printf(<span class="stringliteral">"Direction detection timeout : %dms\n"</span>, val);
00164 
00165     printf(<span class="stringliteral">"\nLooping all %dms - Press any key to abort\n"</span>, delay);
00166 
00167     printf(<span class="stringliteral">"                                                        +--------- Invalid dir\n"</span>);
00168     printf(<span class="stringliteral">"                                                        | +------- Backward dir\n"</span>);
00169     printf(<span class="stringliteral">"                                                        | | +----- Forward dir\n"</span>);
00170     printf(<span class="stringliteral">"                                                        | | | +--- Standstill\n"</span>);
00171     printf(<span class="stringliteral">"                                                        | | | | +- Rolling\n"</span>);
00172     printf(<span class="stringliteral">"                                                        | | | | |\n"</span>);
00173     printf(<span class="stringliteral">"        [us]           [us]     [pulses]     [pulses]   I B F S R\n"</span>);
00174     printf(<span class="stringliteral">"    period-A       period-B     dist-fwd     dist-bwd      status\n"</span>);
00175     
00176     <span class="keywordflow">while</span> (UOS_KeyPressed() == -1) {
00177         <span class="comment">/*--------------------------+</span>
00178 <span class="comment">        |  get measurement results  |</span>
00179 <span class="comment">        +--------------------------*/</span>
00180         <span class="comment">/* period measurement for signal A */</span>
00181         <span class="keywordflow">if</span> ((<a class="codeRef" doxygen="mdis_api.tag:../../../../../LIBSRC/MDIS_API/DOC/html/" href="../../../../../LIBSRC/MDIS_API/DOC/html/mdis__api_8c.html#a12">M_getstat</a>(path, <a class="code" href="z140__drv_8h.html#a7">Z140_PERIOD_A</a>, &amp;periodA)) &lt; 0) {
00182             <span class="keywordflow">if</span> ((ret = <a class="code" href="z140__ctrl_8c.html#a5">MeasStat</a>(<span class="stringliteral">"getstat Z140_PERIOD_A"</span>, &amp;periodAStat)))
00183                 <span class="keywordflow">goto</span> ABORT;
00184         }
00185         <span class="keywordflow">else</span> {
00186             sprintf(periodAVal, <span class="stringliteral">"%8d.%03d"</span>, <a class="code" href="z140__drv_8h.html#a16">Z140_PER_US</a>(periodA), <a class="code" href="z140__drv_8h.html#a17">Z140_PER_NS</a>(periodA));
00187             periodAStat = periodAVal;
00188         }
00189 
00190         <span class="comment">/* period measurement for signal B */</span>
00191         <span class="keywordflow">if</span> ((<a class="codeRef" doxygen="mdis_api.tag:../../../../../LIBSRC/MDIS_API/DOC/html/" href="../../../../../LIBSRC/MDIS_API/DOC/html/mdis__api_8c.html#a12">M_getstat</a>(path, <a class="code" href="z140__drv_8h.html#a8">Z140_PERIOD_B</a>, &amp;periodB)) &lt; 0) {
00192             <span class="keywordflow">if</span> ((ret = <a class="code" href="z140__ctrl_8c.html#a5">MeasStat</a>(<span class="stringliteral">"getstat Z140_PERIOD_A"</span>, &amp;periodBStat)))
00193                 <span class="keywordflow">goto</span> ABORT;
00194         }
00195         <span class="keywordflow">else</span> {
00196             sprintf(periodBVal, <span class="stringliteral">"%8d.%03d"</span>, <a class="code" href="z140__drv_8h.html#a16">Z140_PER_US</a>(periodB), <a class="code" href="z140__drv_8h.html#a17">Z140_PER_NS</a>(periodB));
00197             periodBStat = periodBVal;
00198         }
00199 
00200         <span class="comment">/* sensor pulses */</span>
00201         <span class="keywordflow">if</span> ((<a class="codeRef" doxygen="mdis_api.tag:../../../../../LIBSRC/MDIS_API/DOC/html/" href="../../../../../LIBSRC/MDIS_API/DOC/html/mdis__api_8c.html#a12">M_getstat</a>(path, <a class="code" href="z140__drv_8h.html#a9">Z140_DISTANCE_FWD</a>, &amp;distFwd)) &lt; 0) {
00202             ret = <a class="code" href="z140__ctrl_8c.html#a4">PrintError</a>(<span class="stringliteral">"getstat Z140_DISTANCE_FWD"</span>);
00203             <span class="keywordflow">goto</span> ABORT;
00204         }
00205 
00206         <span class="keywordflow">if</span> ((<a class="codeRef" doxygen="mdis_api.tag:../../../../../LIBSRC/MDIS_API/DOC/html/" href="../../../../../LIBSRC/MDIS_API/DOC/html/mdis__api_8c.html#a12">M_getstat</a>(path, <a class="code" href="z140__drv_8h.html#a10">Z140_DISTANCE_BWD</a>, &amp;distBwd)) &lt; 0) {
00207             ret = <a class="code" href="z140__ctrl_8c.html#a4">PrintError</a>(<span class="stringliteral">"getstat Z140_DISTANCE_BWD"</span>);
00208             <span class="keywordflow">goto</span> ABORT;
00209         }
00210 
00211         <span class="comment">/* status */</span>
00212         <span class="keywordflow">if</span> ((<a class="codeRef" doxygen="mdis_api.tag:../../../../../LIBSRC/MDIS_API/DOC/html/" href="../../../../../LIBSRC/MDIS_API/DOC/html/mdis__api_8c.html#a12">M_getstat</a>(path, <a class="code" href="z140__drv_8h.html#a11">Z140_STATUS</a>, &amp;val)) &lt; 0) {
00213             ret = <a class="code" href="z140__ctrl_8c.html#a4">PrintError</a>(<span class="stringliteral">"getstat Z140_STATUS"</span>);
00214             <span class="keywordflow">goto</span> ABORT;
00215         }
00216 
00217         <span class="keywordflow">if</span> (val &amp; <a class="code" href="z140__drv_8h.html#a22">Z140_ST_DIR_INVALID</a>) st[0]=<span class="charliteral">'I'</span>; <span class="keywordflow">else</span> st[0]=<span class="charliteral">'-'</span>;
00218         <span class="keywordflow">if</span> (val &amp; <a class="code" href="z140__drv_8h.html#a21">Z140_ST_DIR_BWD</a>)     st[2]=<span class="charliteral">'B'</span>; <span class="keywordflow">else</span> st[2]=<span class="charliteral">'-'</span>;
00219         <span class="keywordflow">if</span> (val &amp; <a class="code" href="z140__drv_8h.html#a20">Z140_ST_DIR_FWD</a>)     st[4]=<span class="charliteral">'F'</span>; <span class="keywordflow">else</span> st[4]=<span class="charliteral">'-'</span>;
00220         <span class="keywordflow">if</span> (val &amp; <a class="code" href="z140__drv_8h.html#a19">Z140_ST_STANDSTILL</a>)  st[6]=<span class="charliteral">'S'</span>; <span class="keywordflow">else</span> st[6]=<span class="charliteral">'-'</span>;
00221         <span class="keywordflow">if</span> (val &amp; <a class="code" href="z140__drv_8h.html#a18">Z140_ST_ROLLING</a>)     st[8]=<span class="charliteral">'R'</span>; <span class="keywordflow">else</span> st[8]=<span class="charliteral">'-'</span>;
00222 
00223         <span class="keywordflow">if</span> (newLine){
00224             <span class="comment">/* print/update measurement values in new line */</span>
00225             printf(<span class="stringliteral">"%s   %s   %10d   %10d   %s\n"</span>,
00226                 periodAStat, periodBStat, distFwd, distBwd, status);
00227         }
00228         <span class="keywordflow">else</span> {
00229             <span class="comment">/* print/update measurement values in same line */</span>
00230             printf(<span class="stringliteral">"%s   %s   %10d   %10d   %s  %s\r"</span>,
00231                 periodAStat, periodBStat, distFwd, distBwd, status, blink ? <span class="stringliteral">"  /  "</span> : <span class="stringliteral">"  \\  "</span>);
00232             fflush(stdout);
00233             blink ^= 1;
00234         }
00235 
00236         UOS_Delay(delay);
00237     }
00238 
00239     printf(<span class="stringliteral">"\n"</span>);
00240     ret = <a class="code" href="z140__simp_8c.html#a0">ERR_OK</a>;
00241 
00242 ABORT:
00243     <span class="comment">/*----------------------+</span>
00244 <span class="comment">    |  close path           |</span>
00245 <span class="comment">    +----------------------*/</span>
00246     <span class="keywordflow">if</span> (<a class="codeRef" doxygen="mdis_api.tag:../../../../../LIBSRC/MDIS_API/DOC/html/" href="../../../../../LIBSRC/MDIS_API/DOC/html/mdis__api_8c.html#a9">M_close</a>(path) &lt; 0)
00247         ret = <a class="code" href="z140__ctrl_8c.html#a4">PrintError</a>(<span class="stringliteral">"close"</span>);
00248 
00249     <span class="keywordflow">return</span> ret;
00250 }
00251 
00252 <span class="comment">/***************************************************************************/</span>
<a name="l00259"></a><a class="code" href="z140__simp_8c.html#a4">00259</a> <span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="z140__ctrl_8c.html#a4">PrintError</a>(<span class="keywordtype">char</span> *info)
00260 {
00261     printf(<span class="stringliteral">"*** can't %s: %s\n"</span>, info, <a class="codeRef" doxygen="mdis_api.tag:../../../../../LIBSRC/MDIS_API/DOC/html/" href="../../../../../LIBSRC/MDIS_API/DOC/html/m__errstr_8c.html#a0">M_errstring</a>(UOS_ErrnoGet()));
00262     <span class="keywordflow">return</span> <a class="code" href="z140__simp_8c.html#a2">ERR_FUNC</a>;
00263 }
00264 
00265 <span class="comment">/***************************************************************************/</span>
<a name="l00273"></a><a class="code" href="z140__simp_8c.html#a5">00273</a> <span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="z140__ctrl_8c.html#a5">MeasStat</a>(<span class="keywordtype">char</span> *info, <span class="keywordtype">char</span> **statStr)
00274 {
00275     u_int32 stat;
00276     <span class="keyword">static</span> <span class="keywordtype">char</span> *errStr[] = { <span class="stringliteral">"  period-err"</span>, <span class="stringliteral">"   phase-err"</span>, <span class="stringliteral">" no-new-data"</span> };
00277 
00278     stat = UOS_ErrnoGet();
00279 
00280     <span class="keywordflow">switch</span> (stat) {
00281     <span class="keywordflow">case</span> <a class="code" href="z140__drv_8h.html#a23">Z140_ERR_PER_INVALID</a>:  *statStr = errStr[0]; <span class="keywordflow">break</span>;
00282     <span class="keywordflow">case</span> <a class="code" href="z140__drv_8h.html#a24">Z140_ERR_PH_VIOLATION</a>: *statStr = errStr[1]; <span class="keywordflow">break</span>;
00283     <span class="keywordflow">case</span> <a class="code" href="z140__drv_8h.html#a25">Z140_ERR_NO_DATA</a>:      *statStr = errStr[2]; <span class="keywordflow">break</span>;
00284     <span class="keywordflow">default</span>:
00285         printf(<span class="stringliteral">"*** can't %s: %s\n"</span>, info, <a class="codeRef" doxygen="mdis_api.tag:../../../../../LIBSRC/MDIS_API/DOC/html/" href="../../../../../LIBSRC/MDIS_API/DOC/html/m__errstr_8c.html#a0">M_errstring</a>(stat));
00286         <span class="keywordflow">return</span> <a class="code" href="z140__simp_8c.html#a2">ERR_FUNC</a>;
00287     }
00288 
00289     <span class="keywordflow">return</span> <a class="code" href="z140__simp_8c.html#a0">ERR_OK</a>;
00290 }
</pre></div>
	</div>
</div>

<div class="footer">
<!-- Footer -->
	<p class="footer">
	Generated for Z140 MDIS Driver using <a href="http://www.doxygen.org">doxygen</a>.<br>
	Copyright &copy; 2019 <a href="http://www.men.de">MEN Mikro Elektronik GmbH</a>. All Rights Reserved.
	</p>
</div>

</body>
</html>

